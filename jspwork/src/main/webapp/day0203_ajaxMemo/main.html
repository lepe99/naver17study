<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>502 study</title>
    <link
            href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu
            &family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap"
            rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="main.js"></script>
    <style>
        body * {
            font-family: 'Jua', sans-serif;
        }
        
        .imgAvatar {
            width: 40px;
            height: 40px;
        }
        
        .writeDate {
            font-size: 10px;
            color: gray;
        }
    </style>
</head>
<body>
<div style="margin: 20px;">
    <h5 class="alert alert-danger" style="width: 350px;">Memo Ajax CRUD</h5>
    
    <div class="input-group" style="width: 350px;">
        <select id="selAvatar">
            <option value="../image/avatar/s1.JPG">스웨터소년</option>
            <option value="../image/avatar/s3.JPG">파란옷소녀</option>
            <option value="../image/avatar/s5.JPG">분홍옷소녀</option>
            <option value="../image/avatar/s10.JPG">피아노소년</option>
            <option value="../image/avatar/s4.JPG">신난스누피</option>
        </select>
        &nbsp;
        <img src="" class= "photoAvatar" style="width: 40px">
        
        <script>
            $("#photoAvatar").attr("src", $("#selAvatar").val());
            
            // event
            $("#selAvatar").change((e) => {
                $(".photoAvatar").attr("src", $(e.target).val());
            });
        </script>
        
        <input type="text" id="nickname" class="form-control" placeholder="닉네임">
    </div>
    
    <div class="input-group" style="width: 350px; margin-top: 10px;">
        <input type="text" id="message" class="form-control" placeholder="메세지 입력">
        <button id="btnSave" class="btn btn-success btn-sm">저장</button>
    </div>
    
    <div style="width: 350px; margin-top: 10px;">
        <input type="text" id="search" class="form-control" placeholder="검색할 닉네임 입력 후 엔터">
    </div>
    
    <!-- 출력할 위치 -->
    <div id="memoList" class="alert alert-warning" style="margin-top: 10px; width: 350px;">111</div>
    
    <!-- 메모 수정 모달 -->
    <div class="modal fade" id="modModal">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">메모 수정</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                
                <!-- Modal body -->
                <div class="modal-body">
                    <!-- 수정 폼단위로 값 얻어 해보기 -->
                    <form id="modForm" action="update.jsp" method="post">
                        <input type="hidden" id="modIdx" name="idx">
                        <select id="modAvatar" name="avatar">
                            <option value="../image/avatar/s1.JPG">스웨터소년</option>
                            <option value="../image/avatar/s3.JPG">파란옷소녀</option>
                            <option value="../image/avatar/s5.JPG">분홍옷소녀</option>
                            <option value="../image/avatar/s10.JPG">피아노소년</option>
                            <option value="../image/avatar/s4.JPG">신난스누피</option>
                        </select>
                        &nbsp;
                        <img src="" class="modPhotoAvatar" style="width: 40px">
                        <script>
                            $(".modPhotoAvatar").attr("src", $("#modAvatar").val());
                            
                            // event
                            $("#modAvatar").change((e) => {
                                $(".modPhotoAvatar").attr("src", $(e.target).val());
                            });
                        </script>
                        <div class="input-group">
                            닉네임 : <input type="text" id="modNickname" name="nickname" class="form-control"
                                   placeholder="닉네임" style="margin-bottom: 10px">
                        </div>
                        <input type="text" id="modMessage" name="message" class="form-control" placeholder="메세지 입력">

                    </form>
                </div>
                
                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="submit" form="modForm" class="btn btn-success" data-bs-dismiss="modal">수정</button>
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">닫기</button>
                </div>
            
            </div>
        </div>
    </div>
</div>
</body>
</html>