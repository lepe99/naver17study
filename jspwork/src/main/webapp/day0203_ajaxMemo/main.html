<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>502 study</title>
    <link
            href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu
            &family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap"
            rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <style>
        body * {
            font-family: 'Jua', sans-serif;
        }
    </style>
    <script>
        $(() => {
            list();
            // btnSave event
            $("#btnSave").click(() => {
                let avatar = $("#selAvatar").val();
                let nickname = $("#nickname").val();
                let message = $("#message").val();
                
                $.ajax({
                    url: "insert.jsp",
                    type: "get",
                    dataType: "xml",
                    data: {
                        avatar: avatar,
                        nickname: nickname,
                        message: message
                    },
                    success: (data) => {
                        alert($(data).find("result").text());
                        $("#nickname").val("");
                        $("#message").val("");
                    }
                });
            });
        });
        
        function list() {
        
        }
        
    </script>
</head>
<body>
<div style="margin: 20px;">
    <h5 class="alert alert-danger">Memo Ajax CRUD</h5>
    
    <div class="input-group" style="width: 350px;">
        <select id="selAvatar">
            <option value="../image/avatar/s1.JPG">스웨터소년</option>
            <option value="../image/avatar/s3.JPG">파란옷소녀</option>
            <option value="../image/avatar/s5.JPG">분홍옷소녀</option>
            <option value="../image/avatar/s10.JPG">피아노소년</option>
            <option value="../image/avatar/s4.JPG">신난스누피</option>
        </select>
        &nbsp;
        <img src="" class="photoAvatar" style="width: 40px">
        
        <script>
            $("#photoAvatar").attr("src", $("#selAvatar").val());
            
            // event
            $("#selAvatar").change((e) => {
                $(".photoAvatar").attr("src", $(e.target).val());
            });
        </script>
        
        <input type="text" id="nickname" class="form-control" placeholder="닉네임">
    </div>
    
    <div class="input-group" style="width: 350px; margin-top: 10px;">
        <input type="text" id="message" class="form-control" placeholder="메세지 입력">
        <button id="btnSave" class="btn btn-success btn-sm">저장</button>
    </div>
    
    <!-- 출력할 위치 -->
    <div id="memoList" class="alert alert-warning" style="margin-top: 10px; width: 350px;">111</div>
</div>
</body>
</html>